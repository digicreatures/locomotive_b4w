b4w.register("locomotive",function(g,a){function h(e){console.log("hey");for(var d=document.getElementsByClassName("anchor"),c=0;c<d.length;++c)d[c].style.visibility="hidden";document.getElementById(b.scenes.get_object_name(e)+".anchor").style.visibility="visible";console.log(b.scenes.get_object_name(e)+" selected")}function k(e,d,c,a){c=document.getElementById(b.scenes.get_object_name(a));a=b.container.get_canvas().getBoundingClientRect();c.style.left=document.body.scrollLeft+a.left+e+100+"px";c.style.top=
document.body.scrollTop+a.top+d+"px"}function l(){for(var a=b.objects.get_selectable_objects(),d=0;d<a.length;++d){var c=b.scenes.get_object_by_name(b.scenes.get_object_name(a[d])+".anchor");c&&document.getElementById(b.scenes.get_object_name(c))&&(b.anchors.attach_move_cb(c,k),c=b.ctrl.create_selection_sensor(a[d],!1),b.ctrl.create_sensor_manifold(a[d],"SELECTABLE",b.ctrl.CT_SHOT,[c],function(a){return a[0]},h))}}function m(){for(var a=document.getElementsByClassName("anchor"),b=0;b<a.length;++b)a[b].addEventListener("click",
function(a){a.currentTarget.style.visibility="hidden"})}function n(){b.data.load(p+"locomotive.json",function(){b.app.enable_camera_controls();l();m()},function(a){b.preloader.update_preloader(a)})}var b={app:a("app"),config:a("config"),version:a("version"),data:a("data"),objects:a("objects"),ctrl:a("controls"),scenes:a("scenes"),anchors:a("anchors"),container:a("container"),preloader:a("preloader")},f="DEBUG"==b.version.type(),p=b.config.get_assets_path("locomotive_b4w");g.init=function(){b.app.init({canvas_container_id:"locomotive_viewer",
show_fps:f,console_verbose:f,force_container_ratio:16/9,report_init_failure:!0,autoresize:!0,callback:function(a,d){d?(b.preloader.create_preloader(),n()):console.log("Application cannot started")}})}});b4w.require("locomotive").init();
